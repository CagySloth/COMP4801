Obtaining file:///home/cagysloth/Dev/github/COMP4801/vendor/whatshap_core
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Checking if build backend supports build_editable: started
  Checking if build backend supports build_editable: finished with status 'done'
  Getting requirements to build editable: started
  Getting requirements to build editable: finished with status 'error'
  error: subprocess-exited-with-error
  
  × Getting requirements to build editable did not run successfully.
  │ exit code: 1
  ╰─> [1160 lines of output]
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef string _BX_tag = b''
                  cdef string _chromosome = b''
                  cdef string _sub_alignment_id = b''
      
                  if name is None:
                          self.thisptr = NULL
                        ^
      ------------------------------------------------------------
      whatshap/core.pyx:72:18: Cannot convert 'void *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                                  _BX_tag = BX_tag.encode('UTF-8')
                          if chromosome is not b'' and chromosome is not None:
                                  _chromosome = chromosome.encode('UTF-8')
                          if sub_alignment_id is not b'' and sub_alignment_id is not None:
                                  _sub_alignment_id = sub_alignment_id.encode('UTF-8')
                          self.thisptr = new cpp.Read(_name, mapq, source_id, sample_id, reference_start, _BX_tag, HP_tag, PS_tag, _chromosome, _sub_alignment_id, is_supplementary, reference_end, is_reverse)
                                    ^
      ------------------------------------------------------------
      whatshap/core.pyx:83:30: Cannot convert 'Read *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          self.thisptr = new cpp.Read(_name, mapq, source_id, sample_id, reference_start, _BX_tag, HP_tag, PS_tag, _chromosome, _sub_alignment_id, is_supplementary, reference_end, is_reverse)
                          self.ownsptr = True
      
          def __dealloc__(self):
                  if self.ownsptr:
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:88:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  if self.ownsptr:
                          assert self.thisptr != NULL
                          del self.thisptr
      
          def __repr__(self):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:92:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  return 'Read(name={!r}, mapq={}, source_id={}, sample_id={}, reference_start={}, reference_end={}, chromosome={}, is_supplementary={}, is_reverse={},  BX_tag={}, HP_tag={}, PS_tag={}, variants={})'.format(
                          self.name, self.mapqs, self.source_id, self.sample_id, self.reference_start, self.reference_end, self.chromosome, self.is_supplementary, self.is_reverse, self.BX_tag, self.HP_tag, self.PS_tag, list(self))
      
          property mapqs:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:98:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return tuple(self.thisptr.getMapqs())
      
          property name:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:103:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getName().decode('utf-8')
      
          property source_id:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:108:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getSourceID()
      
          property sample_id:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:113:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getSampleID()
      
          property reference_start:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:118:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getReferenceStart()
      
          property reference_end:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:123:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getReferenceEnd()
      
          property chromosome:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:128:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getChromosome().decode('utf-8')
      
          property sub_alignment_id:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:133:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getReadSubAlignmentId().decode('utf-8')
      
          property is_supplementary:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:138:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.isSupplementary()
      
          property is_reverse:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:143:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.isReverse()
      
          property BX_tag:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:148:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getBXTag().decode('utf-8')
      
          property HP_tag:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:153:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getHPTag()
      
          property PS_tag:
                  def __get__(self):
                          assert self.thisptr != NULL
                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:158:23: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          assert self.thisptr != NULL
                          return self.thisptr.getPSTag()
      
          def __iter__(self):
                  """Iterate over all variants in this read"""
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:163:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  for i in range(len(self)):
                          yield self[i]
      
          def __len__(self):
                  """Return number of variants in this read"""
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:169:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  assert self.thisptr != NULL
                  return self.thisptr.getVariantCount()
      
          def __getitem__(self, key):
                  """Return Variant object at the given integer index"""
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:174:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          allele=self.thisptr.getAllele(key),
                          quality=self.thisptr.getVariantQuality(key)
                  )
      
          def __setitem__(self, index, variant):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:190:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
          def __contains__(self, position):
                  """Return whether this read contains a variant at the given position.
                  A linear search is used.
                  """
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:206:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef string _BX_tag = b''
                  cdef string _chromosome = b''
                  cdef string _sub_alignment_id = b''
      
                  if name is None:
                          self.thisptr = NULL
                        ^
      ------------------------------------------------------------
      whatshap/core.pyx:228:18: Cannot convert 'void *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                                  _BX_tag = BX_tag.encode('UTF-8')
                          if chromosome is not b'' and chromosome is not None:
                                  _chromosome = chromosome.encode('UTF-8')
                          if sub_alignment_id is not b'' and sub_alignment_id is not None:
                                  _sub_alignment_id = sub_alignment_id.encode('UTF-8')
                          self.thisptr = new cpp.Read(_name, mapqs[0] if len(mapqs) > 0 else 0, source_id, sample_id, reference_start, _BX_tag, HP_tag, PS_tag, _chromosome, _sub_alignment_id, is_supplementary, reference_end, is_reverse)
                                    ^
      ------------------------------------------------------------
      whatshap/core.pyx:239:30: Cannot convert 'Read *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          self.add_mapq(mapq)
                  for (pos, allele, quality) in variants:
                          self.add_variant(pos, allele, quality)
      
          def add_variant(self, int position, int allele, int quality):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:248:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def add_variant(self, int position, int allele, int quality):
                  assert self.thisptr != NULL
                  self.thisptr.addVariant(position, allele, quality)
      
          def add_mapq(self, int mapq):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:252:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def add_mapq(self, int mapq):
                  assert self.thisptr != NULL
                  self.thisptr.addMapq(mapq)
      
          def sort(self):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:256:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def sort(self):
                  assert self.thisptr != NULL
                  self.thisptr.sortVariants()
      
          def is_sorted(self):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:260:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def is_sorted(self):
                  assert self.thisptr != NULL
                  return self.thisptr.isSorted()
      
          def has_BX_tag(self):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:264:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def has_BX_tag(self):
                  assert self.thisptr != NULL
                  return self.thisptr.hasBXTag()
      
          def has_HP_tag(self):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:268:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def has_HP_tag(self):
                  assert self.thisptr != NULL
                  return self.thisptr.hasBXTag()
      
          def has_PS_tag(self):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:272:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  assert self.thisptr != NULL
                  return self.thisptr.hasBXTag()
      
      cdef class ReadSet:
          def __cinit__(self):
                  self.thisptr = new cpp.ReadSet()
                                      ^
      ------------------------------------------------------------
      whatshap/core.pyx:277:32: Cannot convert 'ReadSet *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def add(self, Read read):
                  """Adds a read to the set.
                  WARNING: this will internally create a copy of the wrapped C++ Read object,
                  so that subsequent changes to the Read don't affect the
                  newly created copy that is added to the ReadSet."""
                  self.thisptr.add(new cpp.Read(read.thisptr[0]))
                                                  ^
      ------------------------------------------------------------
      whatshap/core.pyx:287:44: Cannot convert Python object to 'Read'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def add(self, Read read):
                  """Adds a read to the set.
                  WARNING: this will internally create a copy of the wrapped C++ Read object,
                  so that subsequent changes to the Read don't affect the
                  newly created copy that is added to the ReadSet."""
                  self.thisptr.add(new cpp.Read(read.thisptr[0]))
                                     ^
      ------------------------------------------------------------
      whatshap/core.pyx:287:31: Cannot convert 'Read *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  elif isinstance(key, str):
                          raise NotImplementedError('Querying a ReadSet by read name is deprecated, please query by (source_id, name) instead')
                  elif isinstance(key, tuple) and (len(key) == 2) and (isinstance(key[0],int) and isinstance(key[1],str)):
                          source_id = key[0]
                          name = key[1].encode('UTF-8')
                          cread = self.thisptr.getByName(name, source_id)
                                       ^
      ------------------------------------------------------------
      whatshap/core.pyx:312:33: Cannot convert Python object to 'Read *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  elif isinstance(key, str):
                          raise NotImplementedError('Querying a ReadSet by read name is deprecated, please query by (source_id, name) instead')
                  elif isinstance(key, tuple) and (len(key) == 2) and (isinstance(key[0],int) and isinstance(key[1],str)):
                          source_id = key[0]
                          name = key[1].encode('UTF-8')
                          cread = self.thisptr.getByName(name, source_id)
                                       ^
      ------------------------------------------------------------
      whatshap/core.pyx:312:33: Storing unsafe C derivative of temporary Python reference
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                          name = key[1].encode('UTF-8')
                          cread = self.thisptr.getByName(name, source_id)
                          if cread == NULL:
                                  raise KeyError(key)
                          else:
                                  read.thisptr = cread
                         ^
      ------------------------------------------------------------
      whatshap/core.pyx:316:19: Cannot convert 'Read *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
          def __getstate__(self):
                  return ([read for read in self])
      
          def __setstate__(self, state):
                  self.thisptr = new cpp.ReadSet()
                                      ^
      ------------------------------------------------------------
      whatshap/core.pyx:325:32: Cannot convert 'ReadSet *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef int i
                  for i in reads_to_select:
                          index_set.add(i)
                  result = ReadSet()
                  del result.thisptr
                  result.thisptr = self.thisptr.subset(index_set)
                                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:353:39: Cannot convert 'IndexSet *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  result.thisptr = self.thisptr.subset(index_set)
                  del index_set
                  return result
      
          def get_positions(self):
                  cdef vector[unsigned int]* v = self.thisptr.get_positions()
                                                                 ^
      ------------------------------------------------------------
      whatshap/core.pyx:358:59: Cannot convert Python object to 'vector[unsigned int] *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  result.thisptr = self.thisptr.subset(index_set)
                  del index_set
                  return result
      
          def get_positions(self):
                  cdef vector[unsigned int]* v = self.thisptr.get_positions()
        ^
      ------------------------------------------------------------
      whatshap/core.pyx:358:2: Storing unsafe C derivative of temporary Python reference
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[unsigned int]* c_positions = NULL
                  if positions is not None:
                          c_positions = new vector[unsigned int]()
                          for pos in positions:
                                  c_positions.push_back(pos)
                  self.thisptr = new cpp.PedigreeDPTable(readset.thisptr, recombcost, pedigree.thisptr, distrust_genotypes, c_positions)
                                                      ^
      ------------------------------------------------------------
      whatshap/core.pyx:375:48: Cannot convert Python object to 'ReadSet *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[unsigned int]* c_positions = NULL
                  if positions is not None:
                          c_positions = new vector[unsigned int]()
                          for pos in positions:
                                  c_positions.push_back(pos)
                  self.thisptr = new cpp.PedigreeDPTable(readset.thisptr, recombcost, pedigree.thisptr, distrust_genotypes, c_positions)
                                                                                    ^
      ------------------------------------------------------------
      whatshap/core.pyx:375:78: Cannot convert Python object to 'Pedigree *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[unsigned int]* c_positions = NULL
                  if positions is not None:
                          c_positions = new vector[unsigned int]()
                          for pos in positions:
                                  c_positions.push_back(pos)
                  self.thisptr = new cpp.PedigreeDPTable(readset.thisptr, recombcost, pedigree.thisptr, distrust_genotypes, c_positions)
                                              ^
      ------------------------------------------------------------
      whatshap/core.pyx:375:40: Cannot convert 'PedigreeDPTable *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[cpp.ReadSet*]* read_sets = new vector[cpp.ReadSet*]()
      
                  for i in range(len(self.pedigree)):
                          read_sets.push_back(new cpp.ReadSet())
                  transmission_vector_ptr = new vector[unsigned int]()
                  self.thisptr.get_super_reads(read_sets, transmission_vector_ptr)
                                     ^
      ------------------------------------------------------------
      whatshap/core.pyx:393:31: Cannot convert 'vector[ReadSet *] *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[cpp.ReadSet*]* read_sets = new vector[cpp.ReadSet*]()
      
                  for i in range(len(self.pedigree)):
                          read_sets.push_back(new cpp.ReadSet())
                  transmission_vector_ptr = new vector[unsigned int]()
                  self.thisptr.get_super_reads(read_sets, transmission_vector_ptr)
                                                ^
      ------------------------------------------------------------
      whatshap/core.pyx:393:42: Cannot convert 'vector[unsigned int] *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
                  results = []
                  for i in range(read_sets.size()):
                          rs = ReadSet()
                          del rs.thisptr
                          rs.thisptr = deref(read_sets)[i]
                                      ^
      ------------------------------------------------------------
      whatshap/core.pyx:399:32: Cannot convert 'ReadSet * &' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  return self.thisptr.get_optimal_score()
      
          def get_optimal_partitioning(self):
                  """Returns a list of the same size as the read set, where each entry is either 0 or 1,
                  telling whether the corresponding read is in partition 0 or in partition 1,"""
                  cdef vector[bool]* p = self.thisptr.get_optimal_partitioning()
                                                                    ^
      ------------------------------------------------------------
      whatshap/core.pyx:413:62: Cannot convert Python object to 'vector[bool] *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  return self.thisptr.get_optimal_score()
      
          def get_optimal_partitioning(self):
                  """Returns a list of the same size as the read set, where each entry is either 0 or 1,
                  telling whether the corresponding read is in partition 0 or in partition 1,"""
                  cdef vector[bool]* p = self.thisptr.get_optimal_partitioning()
        ^
      ------------------------------------------------------------
      whatshap/core.pyx:413:2: Storing unsafe C derivative of temporary Python reference
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  return result
      
      
      cdef class Pedigree:
          def __cinit__(self, numeric_sample_ids):
                  self.thisptr = new cpp.Pedigree()
                                       ^
      ------------------------------------------------------------
      whatshap/core.pyx:421:33: Cannot convert 'Pedigree *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  del self.thisptr
      
          def add_individual(self, id, genotypes, genotype_likelihoods=None):
                  cdef vector[cpp.Genotype*] gt_vector
                  for gt in genotypes:
                          gt_vector.push_back(new cpp.Genotype((<Genotype?>gt).thisptr[0]))
                                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:430:39: no suitable method found (candidates: 3)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  if genotype_likelihoods:
                          for gl in genotype_likelihoods:
                                  if gl is None:
                                          gl_vector.push_back(NULL)
                                  else:
                                          gl_vector.push_back(new cpp.PhredGenotypeLikelihoods((<PhredGenotypeLikelihoods?>gl).thisptr[0]) )
                                                                                                       ^
      ------------------------------------------------------------
      whatshap/core.pyx:437:97: Cannot convert Python object to 'PhredGenotypeLikelihoods'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                                  else:
                                          gl_vector.push_back(new cpp.PhredGenotypeLikelihoods((<PhredGenotypeLikelihoods?>gl).thisptr[0]) )
                  else:
                          for _ in genotypes:
                                  gl_vector.push_back(NULL)
                  self.thisptr.addIndividual(self.numeric_sample_ids[id], gt_vector, gl_vector)
                                                                ^
      ------------------------------------------------------------
      whatshap/core.pyx:441:58: Cannot convert 'vector[Genotype *]' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                                  else:
                                          gl_vector.push_back(new cpp.PhredGenotypeLikelihoods((<PhredGenotypeLikelihoods?>gl).thisptr[0]) )
                  else:
                          for _ in genotypes:
                                  gl_vector.push_back(NULL)
                  self.thisptr.addIndividual(self.numeric_sample_ids[id], gt_vector, gl_vector)
                                                                           ^
      ------------------------------------------------------------
      whatshap/core.pyx:441:69: Cannot convert 'vector[PhredGenotypeLikelihoods *]' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  """Number of variants stored for each individual."""
                  def __get__(self):
                          return self.thisptr.get_variant_count()
      
          def genotype(self, sample_id, unsigned int variant_index):
                  cdef const cpp.Genotype* gt = self.thisptr.get_genotype_by_id(self.numeric_sample_ids[sample_id], variant_index)
                                                                     ^
      ------------------------------------------------------------
      whatshap/core.pyx:452:63: Cannot convert Python object to 'const Genotype *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  """Number of variants stored for each individual."""
                  def __get__(self):
                          return self.thisptr.get_variant_count()
      
          def genotype(self, sample_id, unsigned int variant_index):
                  cdef const cpp.Genotype* gt = self.thisptr.get_genotype_by_id(self.numeric_sample_ids[sample_id], variant_index)
        ^
      ------------------------------------------------------------
      whatshap/core.pyx:452:2: Storing unsafe C derivative of temporary Python reference
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def genotype(self, sample_id, unsigned int variant_index):
                  cdef const cpp.Genotype* gt = self.thisptr.get_genotype_by_id(self.numeric_sample_ids[sample_id], variant_index)
                  return Genotype(gt[0].as_vector())
      
          def genotype_likelihoods(self, sample_id, unsigned int variant_index):
                  cdef const cpp.PhredGenotypeLikelihoods* gl = self.thisptr.get_genotype_likelihoods_by_id(self.numeric_sample_ids[sample_id], variant_index)
                                                                                                 ^
      ------------------------------------------------------------
      whatshap/core.pyx:456:91: Cannot convert Python object to 'const PhredGenotypeLikelihoods *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def genotype(self, sample_id, unsigned int variant_index):
                  cdef const cpp.Genotype* gt = self.thisptr.get_genotype_by_id(self.numeric_sample_ids[sample_id], variant_index)
                  return Genotype(gt[0].as_vector())
      
          def genotype_likelihoods(self, sample_id, unsigned int variant_index):
                  cdef const cpp.PhredGenotypeLikelihoods* gl = self.thisptr.get_genotype_likelihoods_by_id(self.numeric_sample_ids[sample_id], variant_index)
        ^
      ------------------------------------------------------------
      whatshap/core.pyx:456:2: Storing unsafe C derivative of temporary Python reference
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  return self.thisptr.toString().decode('utf-8')
      
      
      cdef class PhredGenotypeLikelihoods:
          def __cinit__(self, vector[double] gl, unsigned int ploidy=2, unsigned int nr_alleles=2):
                  self.thisptr = new cpp.PhredGenotypeLikelihoods(gl, ploidy, nr_alleles)
                                                       ^
      ------------------------------------------------------------
      whatshap/core.pyx:471:49: Cannot convert 'PhredGenotypeLikelihoods *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
          def __str__(self):
                  return self.thisptr.toString().decode('utf-8')
      
          def __getitem__(self, Genotype genotype):
                  assert self.thisptr != NULL
                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:480:22: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                                  return False
                  return True
      
          def genotypes(self):
                  cdef vector[cpp.Genotype]* genotypes = new vector[cpp.Genotype]()
                  self.thisptr.get_genotypes(deref(genotypes))
                                   ^
      ------------------------------------------------------------
      whatshap/core.pyx:501:29: Cannot convert 'vector[Genotype] &' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
      
      cdef class Genotype:
      
          def __cinit__(self, vector[uint32_t] alleles):
                  self.thisptr = new cpp.Genotype(alleles)
                                       ^
      ------------------------------------------------------------
      whatshap/core.pyx:514:33: Cannot convert 'Genotype *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  return (self.thisptr.get_index(), self.thisptr.get_ploidy())
      
          def __setstate__(self, state):
                  index, ploidy = state
                  cdef vector[uint32_t] alleles = cpp.convert_index_to_alleles(index, ploidy)
                  if self.thisptr != NULL:
                        ^
      ------------------------------------------------------------
      whatshap/core.pyx:562:18: Invalid types for '!=' (Python object, void *)
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def __setstate__(self, state):
                  index, ploidy = state
                  cdef vector[uint32_t] alleles = cpp.convert_index_to_alleles(index, ploidy)
                  if self.thisptr != NULL:
                          del self.thisptr
                  self.thisptr = new cpp.Genotype(alleles)
                                       ^
      ------------------------------------------------------------
      whatshap/core.pyx:564:33: Cannot convert 'Genotype *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[unsigned int]* c_positions = NULL
                  if positions is not None:
                          c_positions = new vector[unsigned int]()
                          for pos in positions:
                                  c_positions.push_back(pos)
                  self.thisptr = new cpp.GenotypeDPTable(readset.thisptr, recombcost, pedigree.thisptr, c_positions)
                                                      ^
      ------------------------------------------------------------
      whatshap/core.pyx:592:48: Cannot convert Python object to 'ReadSet *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[unsigned int]* c_positions = NULL
                  if positions is not None:
                          c_positions = new vector[unsigned int]()
                          for pos in positions:
                                  c_positions.push_back(pos)
                  self.thisptr = new cpp.GenotypeDPTable(readset.thisptr, recombcost, pedigree.thisptr, c_positions)
                                                                                    ^
      ------------------------------------------------------------
      whatshap/core.pyx:592:78: Cannot convert Python object to 'Pedigree *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[unsigned int]* c_positions = NULL
                  if positions is not None:
                          c_positions = new vector[unsigned int]()
                          for pos in positions:
                                  c_positions.push_back(pos)
                  self.thisptr = new cpp.GenotypeDPTable(readset.thisptr, recombcost, pedigree.thisptr, c_positions)
                                              ^
      ------------------------------------------------------------
      whatshap/core.pyx:592:40: Cannot convert 'GenotypeDPTable *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          cdef vector[unsigned int]* c_positions = NULL
          if positions is not None:
                  c_positions = new vector[unsigned int]()
                  for pos in positions:
                          c_positions.push_back(pos)
          cpp.compute_genotypes(readset.thisptr[0], genotypes_vector, gl_vector, c_positions)
                                            ^
      ------------------------------------------------------------
      whatshap/core.pyx:611:38: Cannot convert Python object to 'ReadSet'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          return genotypes, gls
      
      
      cdef class HapChatCore:
          def __cinit__(self, ReadSet readset):
                  self.thisptr = new cpp.HapChatCore(readset.thisptr)
                                                  ^
      ------------------------------------------------------------
      whatshap/core.pyx:623:44: Cannot convert Python object to 'ReadSet *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          return genotypes, gls
      
      
      cdef class HapChatCore:
          def __cinit__(self, ReadSet readset):
                  self.thisptr = new cpp.HapChatCore(readset.thisptr)
                                          ^
      ------------------------------------------------------------
      whatshap/core.pyx:623:36: Cannot convert 'HapChatCore *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
          def get_super_reads(self):
                  cdef vector[cpp.ReadSet*]* read_sets = new vector[cpp.ReadSet*]()
                  leng=self.thisptr.get_length()
                  for i in range(leng):
                          read_sets.push_back(new cpp.ReadSet())
                  self.thisptr.get_super_reads(read_sets)
                                     ^
      ------------------------------------------------------------
      whatshap/core.pyx:633:31: Cannot convert 'vector[ReadSet *] *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
                  results = []
                  for i in range(read_sets.size()):
                          rs = ReadSet()
                          del rs.thisptr
                          rs.thisptr = deref(read_sets)[i]
                                      ^
      ------------------------------------------------------------
      whatshap/core.pyx:639:32: Cannot convert 'ReadSet * &' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
                  return results, None
          def get_optimal_cost(self):
                  return self.thisptr.get_optimal_cost()
          def get_optimal_partitioning(self):
                  cdef vector[bool]* p = self.thisptr.get_optimal_partitioning()
                                                                    ^
      ------------------------------------------------------------
      whatshap/core.pyx:646:62: Cannot convert Python object to 'vector[bool] *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
                  return results, None
          def get_optimal_cost(self):
                  return self.thisptr.get_optimal_cost()
          def get_optimal_partitioning(self):
                  cdef vector[bool]* p = self.thisptr.get_optimal_partitioning()
        ^
      ------------------------------------------------------------
      whatshap/core.pyx:646:2: Storing unsafe C derivative of temporary Python reference
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  del p
                  return result
      
      cdef class Caller:
          def __cinit__(self, string reference, int k, int window ):
                  self.thisptr = new cpp.Caller(reference, k, window)
                                     ^
      ------------------------------------------------------------
      whatshap/core.pyx:653:31: Cannot convert 'Caller *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
          def all_variants(self, vector[pair[int,int]] variants_list):
                  cdef deque[pair[int,int]] v_list
                  for v in variants_list:
                          v_list.push_back(v)
                  self.thisptr.all_variants(v_list)
                                  ^
      ------------------------------------------------------------
      whatshap/core.pyx:662:28: Cannot convert 'deque[pair[int,int]]' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[unsigned int]* c_positions = NULL
                  if positions is not None:
                          c_positions = new vector[unsigned int]()
                          for pos in positions:
                                  c_positions.push_back(pos)
                  self.thisptr = new cpp.PedMecHeuristic(readset.thisptr, recombcost, pedigree.thisptr, distrust_genotypes, c_positions, row_limit, allow_mutations, verbosity)
                                                      ^
      ------------------------------------------------------------
      whatshap/core.pyx:685:48: Cannot convert Python object to 'ReadSet *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[unsigned int]* c_positions = NULL
                  if positions is not None:
                          c_positions = new vector[unsigned int]()
                          for pos in positions:
                                  c_positions.push_back(pos)
                  self.thisptr = new cpp.PedMecHeuristic(readset.thisptr, recombcost, pedigree.thisptr, distrust_genotypes, c_positions, row_limit, allow_mutations, verbosity)
                                                                                    ^
      ------------------------------------------------------------
      whatshap/core.pyx:685:78: Cannot convert Python object to 'Pedigree *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[unsigned int]* c_positions = NULL
                  if positions is not None:
                          c_positions = new vector[unsigned int]()
                          for pos in positions:
                                  c_positions.push_back(pos)
                  self.thisptr = new cpp.PedMecHeuristic(readset.thisptr, recombcost, pedigree.thisptr, distrust_genotypes, c_positions, row_limit, allow_mutations, verbosity)
                                              ^
      ------------------------------------------------------------
      whatshap/core.pyx:685:40: Cannot convert 'PedMecHeuristic *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
                  cdef vector[cpp.ReadSet*]* readSets = new vector[cpp.ReadSet*]()
                  cdef vector[uint32_t]* opt_trans_ptr
                  self.thisptr.solve()
      
                  opt_trans_ptr = self.thisptr.getOptTransmission()
                                                       ^
      ------------------------------------------------------------
      whatshap/core.pyx:698:49: Cannot convert Python object to 'vector[uint32_t] *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
                  cdef vector[cpp.ReadSet*]* readSets = new vector[cpp.ReadSet*]()
                  cdef vector[uint32_t]* opt_trans_ptr
                  self.thisptr.solve()
      
                  opt_trans_ptr = self.thisptr.getOptTransmission()
                                                       ^
      ------------------------------------------------------------
      whatshap/core.pyx:698:49: Storing unsafe C derivative of temporary Python reference
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  cdef vector[cpp.ReadSet*]* readSets = new vector[cpp.ReadSet*]()
                  cdef vector[uint32_t]* opt_trans_ptr
                  self.thisptr.solve()
      
                  opt_trans_ptr = self.thisptr.getOptTransmission()
                  self.thisptr.getSuperReads(readSets)
                                   ^
      ------------------------------------------------------------
      whatshap/core.pyx:699:29: Cannot convert 'vector[ReadSet *] *' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
                  results = []
                  for i in range(readSets.size()):
                          rs = ReadSet()
                          del rs.thisptr
                          rs.thisptr = deref(readSets)[i]
                                     ^
      ------------------------------------------------------------
      whatshap/core.pyx:705:31: Cannot convert 'ReadSet * &' to Python object
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  return self.thisptr.getOptScore()
      
          def get_optimal_partitioning(self):
                  """Returns a list of the same size as the read set, where each entry is either 0 or 1,
                  telling whether the corresponding read is in partition 0 or in partition 1,"""
                  cdef vector[bool]* p = self.thisptr.getOptBipartition()
                                                             ^
      ------------------------------------------------------------
      whatshap/core.pyx:719:55: Cannot convert Python object to 'vector[bool] *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
                  return self.thisptr.getOptScore()
      
          def get_optimal_partitioning(self):
                  """Returns a list of the same size as the read set, where each entry is either 0 or 1,
                  telling whether the corresponding read is in partition 0 or in partition 1,"""
                  cdef vector[bool]* p = self.thisptr.getOptBipartition()
        ^
      ------------------------------------------------------------
      whatshap/core.pyx:719:2: Storing unsafe C derivative of temporary Python reference
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
          def get_mutations(self):
                  """Returns a 2D-list indicating which alleles contain a mutation. The outer list contains
                  one sub-list for each sample and the sub-list contains <hap_id, position> pairs of alleles
                  not following their respective parent."""
                  cdef vector[vector[pair[uint32_t, uint32_t]]]* m = self.thisptr.getMutations()
                                                                                    ^
      ------------------------------------------------------------
      whatshap/core.pyx:728:78: Cannot convert Python object to 'vector[vector[pair[uint32_t,uint32_t]]] *'
      
      Error compiling Cython file:
      ------------------------------------------------------------
      ...
      
          def get_mutations(self):
                  """Returns a 2D-list indicating which alleles contain a mutation. The outer list contains
                  one sub-list for each sample and the sub-list contains <hap_id, position> pairs of alleles
                  not following their respective parent."""
                  cdef vector[vector[pair[uint32_t, uint32_t]]]* m = self.thisptr.getMutations()
        ^
      ------------------------------------------------------------
      whatshap/core.pyx:728:2: Storing unsafe C derivative of temporary Python reference
      Compiling /home/cagysloth/Dev/github/COMP4801/vendor/whatshap_core/whatshap/core.pyx because it changed.
      Compiling /home/cagysloth/Dev/github/COMP4801/vendor/whatshap_core/whatshap/readselect.pyx because it changed.
      Compiling /home/cagysloth/Dev/github/COMP4801/vendor/whatshap_core/whatshap/priorityqueue.pyx because it changed.
      [1/3] Cythonizing /home/cagysloth/Dev/github/COMP4801/vendor/whatshap_core/whatshap/core.pyx
      Traceback (most recent call last):
        File "/home/cagysloth/Dev/github/COMP4801/.venv/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 389, in <module>
          main()
        File "/home/cagysloth/Dev/github/COMP4801/.venv/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 373, in main
          json_out["return_val"] = hook(**hook_input["kwargs"])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "/home/cagysloth/Dev/github/COMP4801/.venv/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 157, in get_requires_for_build_editable
          return hook(config_settings)
                 ^^^^^^^^^^^^^^^^^^^^^
        File "/tmp/pip-build-env-xyamnz_1/overlay/lib/python3.12/site-packages/setuptools/build_meta.py", line 473, in get_requires_for_build_editable
          return self.get_requires_for_build_wheel(config_settings)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "/tmp/pip-build-env-xyamnz_1/overlay/lib/python3.12/site-packages/setuptools/build_meta.py", line 331, in get_requires_for_build_wheel
          return self._get_build_requires(config_settings, requirements=[])
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "/tmp/pip-build-env-xyamnz_1/overlay/lib/python3.12/site-packages/setuptools/build_meta.py", line 301, in _get_build_requires
          self.run_setup()
        File "/tmp/pip-build-env-xyamnz_1/overlay/lib/python3.12/site-packages/setuptools/build_meta.py", line 317, in run_setup
          exec(code, locals())
        File "<string>", line 88, in <module>
        File "/tmp/pip-build-env-xyamnz_1/overlay/lib/python3.12/site-packages/Cython/Build/Dependencies.py", line 1153, in cythonize
          cythonize_one(*args)
        File "/tmp/pip-build-env-xyamnz_1/overlay/lib/python3.12/site-packages/Cython/Build/Dependencies.py", line 1297, in cythonize_one
          raise CompileError(None, pyx_file)
      Cython.Compiler.Errors.CompileError: /home/cagysloth/Dev/github/COMP4801/vendor/whatshap_core/whatshap/core.pyx
      [end of output]
  
  note: This error originates from a subprocess, and is likely not a problem with pip.
ERROR: Failed to build 'file:///home/cagysloth/Dev/github/COMP4801/vendor/whatshap_core' when getting requirements to build editable
